## 1. Popup内部状态管理

- [ ] 1.1 添加useState管理编辑器显示状态
- [ ] 1.2 实现主界面和编辑器界面的条件渲染
- [ ] 1.3 添加编辑器内容的状态管理
- [ ] 1.4 实现界面切换动画和过渡效果

## 2. 编辑器界面实现

- [ ] 2.1 创建编辑器模态界面组件
- [ ] 2.2 添加全屏文本输入框组件
- [ ] 2.3 实现保存和取消按钮
- [ ] 2.4 优化编辑器布局和样式（320px宽度适配）

## 3. 自动标题提取

- [ ] 3.1 实现标题提取逻辑函数
- [ ] 3.2 处理Markdown标题优先级（# 开头）
- [ ] 3.3 处理普通文本截断逻辑
- [ ] 3.4 添加标题长度限制和省略号处理

## 4. 存储集成

- [ ] 4.1 集成现有的documentStorage服务
- [ ] 4.2 实现保存功能（自动提取标题）
- [ ] 4.3 添加表单验证和错误处理
- [ ] 4.4 处理保存成功后的状态重置

## 5. 用户交互优化

- [ ] 5.1 添加文本框自动高度调整
- [ ] 5.2 实现保存按钮的加载状态
- [ ] 5.3 添加键盘快捷键支持（Ctrl+Enter保存）
- [ ] 5.4 优化焦点管理和Tab导航

## 6. 测试和验证

- [ ] 6.1 测试完整的用户输入流程
- [ ] 6.2 验证数据保存到文档库并同步到Side Panel
- [ ] 6.3 测试取消、保存、空内容验证等场景
- [ ] 6.4 验证popup尺寸限制下的用户体验